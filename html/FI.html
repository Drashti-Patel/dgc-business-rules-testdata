<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link href="styling.css" rel="stylesheet" />
    <title>Rule set: FI</title>
  </head>
  <body>
    <h1>Rule set: FI</h1>
    <div class="table">
      <div class="table-body">
        <div class="row header">
          <div class="cell"><span>Identifier</span></div>
          <div class="cell"><span>Description (EN)</span></div>
          <div class="cell"><span>Logic (compactified notation)</span></div>
        </div>
        <div class="row">
          <div class="cell"><span>GR-FI-0000</span></div>
          <div class="cell">
            <span>Certificate contains multiple certificate types</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <div class="inline">
                  <div class="operation">
                    <div class="array">
                      <span class="keyword push-right">[</span>
                      <div class="inline">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.r</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span>
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.t</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span>
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v</span>
                        </div>
                      </div>
                      <span class="keyword push-left">]</span>
                    </div>
                    <span class="keyword">.reduce(</span
                    ><span class="signature push-right"
                      >(accumulator, current) â†’</span
                    >
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">accumulator</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">+</span>
                        <div class="operation">
                          <span class="keyword push-both">if</span>
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">current.0</span>
                          </div>
                          <span class="keyword push-both">then</span
                          ><span class="simple-value">1</span
                          ><span class="keyword push-both">else</span
                          ><span class="simple-value">0</span>
                        </div>
                      </div>
                    </div>
                    <span class="keyword push-right">,</span
                    ><span class="signature push-right">initial:</span
                    ><span class="simple-value">0</span
                    ><span class="keyword">)</span>
                  </div>
                </div>
                <div class="inline">
                  <span class="keyword push-both">===</span
                  ><span class="simple-value">1</span>
                </div>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>GR-FI-0001</span></div>
          <div class="cell"><span>Certificate is not for COVID-19</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="variadic-operator">and</span>
                <div class="indent">
                  <div>
                    <div class="operation">
                      <span class="keyword push-both">if</span>
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.r.0</span>
                      </div>
                      <span class="keyword push-both">then</span>
                      <div class="operation">
                        <div class="inline">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">payload.r.0.tg</span>
                          </div>
                        </div>
                        <div class="inline">
                          <span class="keyword push-both">in</span>
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path"
                              >external.valueSets.disease-agent-targeted</span
                            >
                          </div>
                        </div>
                      </div>
                      <span class="keyword push-both">else</span
                      ><span class="simple-value">true</span>
                    </div>
                  </div>
                  <div>
                    <div class="operation">
                      <span class="keyword push-both">if</span>
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.t.0</span>
                      </div>
                      <span class="keyword push-both">then</span>
                      <div class="operation">
                        <div class="inline">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">payload.t.0.tg</span>
                          </div>
                        </div>
                        <div class="inline">
                          <span class="keyword push-both">in</span>
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path"
                              >external.valueSets.disease-agent-targeted</span
                            >
                          </div>
                        </div>
                      </div>
                      <span class="keyword push-both">else</span
                      ><span class="simple-value">true</span>
                    </div>
                  </div>
                  <div>
                    <div class="operation">
                      <span class="keyword push-both">if</span>
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.v.0</span>
                      </div>
                      <span class="keyword push-both">then</span>
                      <div class="operation">
                        <div class="inline">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">payload.v.0.tg</span>
                          </div>
                        </div>
                        <div class="inline">
                          <span class="keyword push-both">in</span>
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path"
                              >external.valueSets.disease-agent-targeted</span
                            >
                          </div>
                        </div>
                      </div>
                      <span class="keyword push-both">else</span
                      ><span class="simple-value">true</span>
                    </div>
                  </div>
                </div>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>GR-FI-0002</span></div>
          <div class="cell"><span>Tourist pass expired (30 days)</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <div class="operation">
                  <span class="keyword push-both">if</span>
                  <div class="operation">
                    <span class="keyword">/</span
                    ><span class="path">payload.v.0</span>
                  </div>
                  <span class="keyword push-both">then</span>
                  <div class="operation">
                    <span class="keyword push-both">if</span>
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v.0.ci</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">===</span
                        ><span class="simple-value"
                          >Joint Authority of the Helsinki and Uusimaa Hospital
                          District</span
                        >
                      </div>
                    </div>
                    <span class="keyword push-both">then</span>
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">external.validationClock</span>
                          </div>
                          <span class="keyword push-both">+</span
                          ><span class="simple-value">0</span
                          ><span class="push-left keyword">days</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">not-after</span>
                        <div class="operation">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">payload.v.0.dt</span>
                          </div>
                          <span class="keyword push-both">+</span
                          ><span class="simple-value">30</span
                          ><span class="push-left keyword">days</span>
                        </div>
                      </div>
                    </div>
                    <span class="keyword push-both">else</span
                    ><span class="simple-value">true</span>
                  </div>
                  <span class="keyword push-both">else</span
                  ><span class="simple-value">true</span>
                </div>
                <span class="keyword push-both">and</span>
                <div class="operation">
                  <span class="keyword push-both">if</span>
                  <div class="operation">
                    <span class="keyword">/</span
                    ><span class="path">payload.r.0</span>
                  </div>
                  <span class="keyword push-both">then</span>
                  <div class="operation">
                    <span class="keyword push-both">if</span>
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.r.0.ci</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">===</span
                        ><span class="simple-value"
                          >Joint Authority of the Helsinki and Uusimaa Hospital
                          District</span
                        >
                      </div>
                    </div>
                    <span class="keyword push-both">then</span>
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">external.validationClock</span>
                          </div>
                          <span class="keyword push-both">+</span
                          ><span class="simple-value">0</span
                          ><span class="push-left keyword">days</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">not-after</span>
                        <div class="operation">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">payload.r.0.df</span>
                          </div>
                          <span class="keyword push-both">+</span
                          ><span class="simple-value">30</span
                          ><span class="push-left keyword">days</span>
                        </div>
                      </div>
                    </div>
                    <span class="keyword push-both">else</span
                    ><span class="simple-value">true</span>
                  </div>
                  <span class="keyword push-both">else</span
                  ><span class="simple-value">true</span>
                </div>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>RR-FI-0000</span></div>
          <div class="cell">
            <span>Recovery certificate has more than one entry</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-right">!</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.r.1</span>
                </div>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>RR-FI-0001</span></div>
          <div class="cell">
            <span>Recovery certificate is not valid yet or has expired</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.r.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.r.0.df</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">not-after</span>
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">external.validationClock</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">not-after</span>
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.r.0.du</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>RR-FI-0002</span></div>
          <div class="cell">
            <span>The recovery issue date is not before the validity date</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.r.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.r.0.df</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">before</span>
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.r.0.du</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>RR-FI-0003</span></div>
          <div class="cell"><span>Recovery certificate is not valid</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.r.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <span class="keyword push-both">if</span>
                      <div class="operation">
                        <div class="inline">
                          <div class="operation">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.r.0.df</span>
                            </div>
                            <span class="keyword push-both">+</span
                            ><span class="simple-value">0</span
                            ><span class="push-left keyword">days</span>
                          </div>
                        </div>
                        <div class="inline">
                          <span class="keyword push-both">after</span>
                          <div class="operation">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.r.0.fr</span>
                            </div>
                            <span class="keyword push-both">+</span
                            ><span class="simple-value">11</span
                            ><span class="push-left keyword">days</span>
                          </div>
                        </div>
                      </div>
                      <span class="keyword push-both">then</span>
                      <div class="operation">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.r.0.df</span>
                        </div>
                        <span class="keyword push-both">+</span
                        ><span class="simple-value">0</span
                        ><span class="push-left keyword">days</span>
                      </div>
                      <span class="keyword push-both">else</span>
                      <div class="operation">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.r.0.fr</span>
                        </div>
                        <span class="keyword push-both">+</span
                        ><span class="simple-value">11</span
                        ><span class="push-left keyword">days</span>
                      </div>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">not-after</span>
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">external.validationClock</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">not-after</span>
                    <div class="operation">
                      <span class="keyword push-both">if</span>
                      <div class="operation">
                        <div class="inline">
                          <div class="operation">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.r.0.du</span>
                            </div>
                            <span class="keyword push-both">+</span
                            ><span class="simple-value">0</span
                            ><span class="push-left keyword">days</span>
                          </div>
                        </div>
                        <div class="inline">
                          <span class="keyword push-both">before</span>
                          <div class="operation">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.r.0.fr</span>
                            </div>
                            <span class="keyword push-both">+</span
                            ><span class="simple-value">180</span
                            ><span class="push-left keyword">days</span>
                          </div>
                        </div>
                      </div>
                      <span class="keyword push-both">then</span>
                      <div class="operation">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.r.0.du</span>
                        </div>
                        <span class="keyword push-both">+</span
                        ><span class="simple-value">0</span
                        ><span class="push-left keyword">days</span>
                      </div>
                      <span class="keyword push-both">else</span>
                      <div class="operation">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.r.0.fr</span>
                        </div>
                        <span class="keyword push-both">+</span
                        ><span class="simple-value">180</span
                        ><span class="push-left keyword">days</span>
                      </div>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>TR-FI-0000</span></div>
          <div class="cell">
            <span>Test certificate has more than one entry</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-right">!</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.t.1</span>
                </div>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>TR-FI-0001</span></div>
          <div class="cell"><span>Test type is not RAT or NAAT</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.t.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <span class="keyword">/</span
                      ><span class="path">payload.t.0.tt</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">in</span>
                    <div class="operation">
                      <span class="keyword">/</span
                      ><span class="path"
                        >external.valueSets.covid-19-lab-test-type</span
                      >
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>TR-FI-0002</span></div>
          <div class="cell"><span>Test has expired (72 h)</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.t.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">external.validationClock</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">before</span>
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.t.0.sc</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">72</span
                      ><span class="push-left keyword">hours</span>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>TR-FI-0003</span></div>
          <div class="cell"><span>Test result must be negative</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.t.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <span class="keyword">/</span
                      ><span class="path">payload.t.0.tr</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">===</span
                    ><span class="simple-value">260415000</span>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>VR-FI-0000</span></div>
          <div class="cell">
            <span>Vaccination certificate has more than one entry</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-right">!</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.v.1</span>
                </div>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>VR-FI-0001</span></div>
          <div class="cell"><span>Vaccination series is not full</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.v.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <span class="keyword">/</span
                      ><span class="path">payload.v.0.dn</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">&gt;=</span>
                    <div class="operation">
                      <span class="keyword">/</span
                      ><span class="path">payload.v.0.sd</span>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>VR-FI-0002</span></div>
          <div class="cell"><span>Vaccination date is invalid</span></div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.v.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">external.validationClock</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">not-before</span>
                    <div class="operation">
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.v.0.dt</span>
                      </div>
                      <span class="keyword push-both">+</span
                      ><span class="simple-value">0</span
                      ><span class="push-left keyword">days</span>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>VR-FI-0003</span></div>
          <div class="cell">
            <span>Full vaccination series is not valid yet (7 days)</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.v.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <span class="keyword push-both">if</span>
                  <div class="operation">
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v.0.dn</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">===</span>
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v.0.sd</span>
                        </div>
                      </div>
                    </div>
                    <span class="keyword push-both">and</span>
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v.0.dn</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">&lt;=</span
                        ><span class="simple-value">2</span>
                      </div>
                    </div>
                  </div>
                  <span class="keyword push-both">then</span>
                  <div class="operation">
                    <div class="inline">
                      <div class="operation">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">external.validationClock</span>
                        </div>
                        <span class="keyword push-both">+</span
                        ><span class="simple-value">0</span
                        ><span class="push-left keyword">days</span>
                      </div>
                    </div>
                    <div class="inline">
                      <span class="keyword push-both">not-before</span>
                      <div class="operation">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v.0.dt</span>
                        </div>
                        <span class="keyword push-both">+</span
                        ><span class="simple-value">7</span
                        ><span class="push-left keyword">days</span>
                      </div>
                    </div>
                  </div>
                  <span class="keyword push-both">else</span
                  ><span class="simple-value">true</span>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>VR-FI-0004</span></div>
          <div class="cell">
            <span>Full vaccination series has expired (270 days)</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.v.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <span class="keyword push-both">if</span>
                  <div class="operation">
                    <span class="keyword push-both">if</span>
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v.0.dn</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">&gt;</span>
                        <div class="operation">
                          <span class="keyword">/</span
                          ><span class="path">payload.v.0.sd</span>
                        </div>
                      </div>
                    </div>
                    <span class="keyword push-both">then</span
                    ><span class="simple-value">true</span
                    ><span class="keyword push-both">else</span>
                    <div class="operation">
                      <span class="keyword push-both">if</span>
                      <div class="operation">
                        <div class="operation">
                          <div class="inline">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.v.0.dn</span>
                            </div>
                          </div>
                          <div class="inline">
                            <span class="keyword push-both">===</span>
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.v.0.sd</span>
                            </div>
                          </div>
                        </div>
                        <span class="keyword push-both">and</span>
                        <div class="operation">
                          <div class="inline">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.v.0.dn</span>
                            </div>
                          </div>
                          <div class="inline">
                            <span class="keyword push-both">&gt;</span
                            ><span class="simple-value">2</span>
                          </div>
                        </div>
                      </div>
                      <span class="keyword push-both">then</span
                      ><span class="simple-value">true</span
                      ><span class="keyword push-both">else</span>
                      <div class="operation">
                        <span class="variadic-operator">and</span>
                        <div class="indent">
                          <div>
                            <div class="operation">
                              <div class="inline">
                                <div class="operation">
                                  <span class="keyword">/</span
                                  ><span class="path">payload.v.0.dn</span>
                                </div>
                              </div>
                              <div class="inline">
                                <span class="keyword push-both">===</span
                                ><span class="simple-value">2</span>
                              </div>
                            </div>
                          </div>
                          <div>
                            <div class="operation">
                              <div class="inline">
                                <div class="operation">
                                  <span class="keyword">/</span
                                  ><span class="path">payload.v.0.sd</span>
                                </div>
                              </div>
                              <div class="inline">
                                <span class="keyword push-both">===</span
                                ><span class="simple-value">2</span>
                              </div>
                            </div>
                          </div>
                          <div>
                            <div class="operation">
                              <div class="inline">
                                <div class="operation">
                                  <span class="keyword">/</span
                                  ><span class="path">payload.v.0.mp</span>
                                </div>
                              </div>
                              <div class="inline">
                                <span class="keyword push-both">===</span
                                ><span class="simple-value">EU/1/20/1525</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <span class="keyword push-both">then</span
                  ><span class="simple-value">true</span
                  ><span class="keyword push-both">else</span>
                  <div class="operation">
                    <span class="keyword push-both">if</span>
                    <div class="operation">
                      <span class="keyword push-both">if</span>
                      <div class="operation">
                        <span class="keyword">/</span
                        ><span class="path">payload.dob</span>
                      </div>
                      <span class="keyword push-both">then</span>
                      <div class="operation">
                        <div class="inline">
                          <div class="operation">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path">payload.dob</span>
                            </div>
                            <span class="keyword push-both">+</span
                            ><span class="simple-value">0</span
                            ><span class="push-left keyword">years</span>
                          </div>
                        </div>
                        <div class="inline">
                          <span class="keyword push-both">after</span>
                          <div class="operation">
                            <div class="operation">
                              <span class="keyword">/</span
                              ><span class="path"
                                >external.validationClock</span
                              >
                            </div>
                            <span class="simple-value">-18</span
                            ><span class="push-left keyword">years</span>
                          </div>
                        </div>
                      </div>
                      <span class="keyword push-both">else</span
                      ><span class="simple-value">false</span>
                    </div>
                    <span class="keyword push-both">then</span
                    ><span class="simple-value">true</span
                    ><span class="keyword push-both">else</span>
                    <div class="operation">
                      <div class="inline">
                        <div class="operation">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">external.validationClock</span>
                          </div>
                          <span class="keyword push-both">+</span
                          ><span class="simple-value">0</span
                          ><span class="push-left keyword">days</span>
                        </div>
                      </div>
                      <div class="inline">
                        <span class="keyword push-both">before</span>
                        <div class="operation">
                          <div class="operation">
                            <span class="keyword">/</span
                            ><span class="path">payload.v.0.dt</span>
                          </div>
                          <span class="keyword push-both">+</span
                          ><span class="simple-value">270</span
                          ><span class="push-left keyword">days</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="cell"><span>VR-FI-0005</span></div>
          <div class="cell">
            <span>Vaccination product is not accepted</span>
          </div>
          <div class="cell">
            <div>
              <span class="keyword"
                >Given a DCC and some external parameters,</span
              >
            </div>
            <div>
              <span class="keyword">when </span>
              <div class="operation">
                <span class="keyword push-both">if</span>
                <div class="operation">
                  <span class="keyword">/</span
                  ><span class="path">payload.v.0</span>
                </div>
                <span class="keyword push-both">then</span>
                <div class="operation">
                  <div class="inline">
                    <div class="operation">
                      <span class="keyword">/</span
                      ><span class="path">payload.v.0.mp</span>
                    </div>
                  </div>
                  <div class="inline">
                    <span class="keyword push-both">in</span>
                    <div class="array">
                      <span class="keyword push-right">[</span>
                      <div class="inline">
                        <span class="simple-value">EU/1/20/1528</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">EU/1/20/1507</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">EU/1/21/1529</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">EU/1/20/1525</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">BBIBP-CorV</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">CoronaVac</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">Covaxin</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">Covishield</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">EU/1/21/1618</span>
                      </div>
                      <div class="inline">
                        <span class="push-right">,</span
                        ><span class="simple-value">Covovax</span>
                      </div>
                      <span class="keyword push-left">]</span>
                    </div>
                  </div>
                </div>
                <span class="keyword push-both">else</span
                ><span class="simple-value">true</span>
              </div>
              <span>,</span>
            </div>
            <div>
              <span class="keyword">then that DCC is </span><span>Accepted</span
              ><span>.</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
